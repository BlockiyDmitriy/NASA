@page "/apod"

@using Nasa.Client.Services.DataServices.APODServices;

@inject IJSRuntime _jsRuntime
@inject IDialogService _dialogService

@inject IGetApodDataService _getApodDataService

<main>
    <h2>Astronomy Picture of the Day</h2>
    @if (GetApodData is not null)
    {
        <section>
            <article class="copyright-info">
                <p class="copyright">Copyright: @GetApodData.Copyright</p><p class="date">Date: @GetApodData.Date</p>
            </article>

            <div @onclick="OnClickImage">
                @if (GetApodData.MediaTypes == Models.MediaTypes.Video)
                {
                    <video id="video"
                   autoplay
                   controls />
                }
                else
                {
                    <img src="@GetApodData.Url" />
                }
            </div>
            <article class="copyright-info">
                <p class="copyright">Explanation: @GetApodData.Explanation</p>
            </article>
        </section>

    }
</main>